<script src="https://cdn.tailwindcss.com"></script>

<!-- P√ÅGINA PRINCIPAL -->
<div id="mainPage" class="max-w-md mx-auto pt-8">
  <header class="flex justify-between items-center mb-8">
    <div>
      <h1 class="text-2xl font-bold">BookJournal</h1>
      <p class="text-[9px] text-stone-500 uppercase tracking-widest font-bold">
        Biblioteca de Carlota
      </p>
    </div>
    <div class="flex gap-2">
      <button
        onclick="openAnnualReport()"
        class="h-10 w-10 bg-zinc-800 rounded-xl flex items-center justify-center text-lg"
      >
        üìä
      </button>
      <button
        onclick="toggleAddMenu()"
        class="h-10 w-10 bg-zinc-800 rounded-xl flex items-center justify-center text-lg"
      >
        Ôºã
      </button>
    </div>
  </header>

  <!-- BUSCADOR -->
  <div class="mb-6">
    <input
      type="text"
      id="searchInput"
      oninput="searchInMyLibrary()"
      placeholder="Buscar en mi estanter√≠a..."
      class="w-full bg-[#1e1e1e] rounded-2xl p-4 text-sm border border-stone-800 focus:outline-none text-white"
    />
    <div id="quickSearchResults" class="mt-4 space-y-4"></div>
  </div>

  <!-- COMPONENTE DE RACHA Y METAS -->
  <div class="space-y-3 mb-6">
    <div class="streak-card" onclick="openGoalModal()">
      <div class="flex items-center gap-4">
        <div class="text-2xl">üî•</div>
        <div>
          <span
            class="text-[8px] uppercase font-bold text-stone-500 tracking-widest block"
            >Racha actual</span
          >
          <p class="text-lg font-bold"><span id="streakDays">0</span> d√≠as</p>
        </div>
      </div>
      <div class="text-right">
        <span
          class="text-[8px] uppercase font-bold text-stone-500 tracking-widest"
          >Meta: <span id="goalLabel">60</span>m</span
        >
        <div class="streak-mini-bar">
          <div id="goalFill" class="streak-mini-fill" style="width: 0%"></div>
        </div>
      </div>
    </div>

    <!-- META ANUAL -->
    <div class="streak-card" onclick="openAnnualGoalModal()">
      <div class="flex items-center gap-4">
        <div class="text-2xl">üìö</div>
        <div>
          <span
            class="text-[8px] uppercase font-bold text-stone-500 tracking-widest block"
            >Le√≠dos este a√±o</span
          >
          <p class="text-lg font-bold">
            <span id="annualCount">0</span> libros
          </p>
        </div>
      </div>
      <div class="text-right">
        <span
          class="text-[8px] uppercase font-bold text-stone-500 tracking-widest"
          >Meta: <span id="annualGoalLabel">12</span></span
        >
        <div class="streak-mini-bar">
          <div
            id="annualGoalFill"
            class="annual-mini-fill"
            style="width: 0%"
          ></div>
        </div>
      </div>
    </div>
  </div>

  <!-- SECCI√ìN ACTIVA -->
  <div id="activeSection" class="mb-10 empty:hidden"></div>

  <!-- ESTADOS -->
  <div class="grid grid-cols-2 gap-3 mb-3">
    <div
      onclick="openListView('wishlist')"
      class="status-card rounded-2xl flex items-center px-4 cursor-pointer"
    >
      <span class="text-[14px] mr-2">‚åõ</span>
      <span
        class="text-[9px] uppercase tracking-widest font-bold text-stone-400"
        >Pendientes</span
      >
      <span class="ml-auto text-xs font-bold text-white/30" id="countWishlist"
        >0</span
      >
    </div>
    <div
      onclick="openListView('finished')"
      class="status-card rounded-2xl flex items-center px-4 cursor-pointer"
    >
      <span class="text-[14px] mr-2">‚úî</span>
      <span
        class="text-[9px] uppercase tracking-widest font-bold text-stone-400"
        >Le√≠dos</span
      >
      <span class="ml-auto text-xs font-bold text-white/30" id="countFinished"
        >0</span
      >
    </div>
  </div>

  <!-- PR√ìXIMOS -->
  <div
    onclick="openListView('unreleased')"
    class="status-card rounded-2xl flex items-center px-4 cursor-pointer mb-3 w-full bg-sky-950/20 border-sky-900/30"
  >
    <span class="text-[14px] mr-2">üîî</span>
    <span class="text-[9px] uppercase tracking-widest font-bold text-sky-500"
      >Pr√≥ximos Lanzamientos</span
    >
    <span
      class="ml-auto text-xs font-bold bg-sky-900/40 px-2 py-1 rounded-lg text-sky-400"
      id="countUnreleased"
      >0</span
    >
  </div>

  <!-- CALENDARIO -->
  <div
    onclick="openCalendar()"
    class="status-card rounded-2xl flex items-center px-4 cursor-pointer mb-3 w-full"
  >
    <span class="text-[14px] mr-2">üìÖ</span>
    <span class="text-[9px] uppercase tracking-widest font-bold text-stone-400"
      >Calendario de Lectura</span
    >
    <span
      class="ml-auto text-[10px] text-white/20 font-mono"
      id="currentDateLabel"
    ></span>
  </div>

  <!-- ESCRITORES Y EDITORALES -->
  <div class="grid grid-cols-2 gap-3 mb-10">
    <div
      onclick="openCollection('Writer')"
      class="status-card rounded-2xl flex items-center px-4 cursor-pointer"
    >
      <span class="text-[14px] mr-2">‚úç</span>
      <span
        class="text-[9px] uppercase tracking-widest font-bold text-stone-400"
        >Escritores</span
      >
      <span class="ml-auto text-xs font-bold text-white/30" id="countWriters"
        >0</span
      >
    </div>
    <div
      onclick="openCollection('Publisher')"
      class="status-card rounded-2xl flex items-center px-4 cursor-pointer"
    >
      <span class="text-[14px] mr-2">üè¢</span>
      <span
        class="text-[9px] uppercase tracking-widest font-bold text-stone-400"
        >Editoriales</span
      >
      <span class="ml-auto text-xs font-bold text-white/30" id="countPublishers"
        >0</span
      >
    </div>
  </div>

  <!-- COLECCIONES -->
  <div class="mb-10">
    <h4
      class="text-[10px] uppercase tracking-[0.2em] font-bold text-stone-600 mb-4 px-1"
    >
      Mis Colecciones
    </h4>
    <div class="grid grid-cols-2 gap-3">
      <div onclick="openCollection('Autoconclusivo')" class="category-chip">
        <span
          class="text-[9px] uppercase tracking-widest font-bold text-stone-400"
          >Autoconclusivos</span
        >
        <span class="text-xs font-bold text-white/20" id="stat-autoconclusivo"
          >0 libros</span
        >
      </div>
      <div onclick="openCollection('Serie')" class="category-chip">
        <span
          class="text-[9px] uppercase tracking-widest font-bold text-stone-400"
          >Series</span
        >
        <span class="text-xs font-bold text-white/20" id="stat-serie"
          >0 colecciones</span
        >
      </div>
      <div onclick="openCollection('Saga')" class="category-chip">
        <span
          class="text-[9px] uppercase tracking-widest font-bold text-stone-400"
          >Sagas</span
        >
        <span class="text-xs font-bold text-white/20" id="stat-saga"
          >0 colecciones</span
        >
      </div>
      <div onclick="openCollection('Bilog√≠a')" class="category-chip">
        <span
          class="text-[9px] uppercase tracking-widest font-bold text-stone-400"
          >Bilog√≠as</span
        >
        <span class="text-xs font-bold text-white/20" id="stat-bilogia"
          >0 colecciones</span
        >
      </div>
      <div onclick="openCollection('Trilog√≠a')" class="category-chip">
        <span
          class="text-[9px] uppercase tracking-widest font-bold text-stone-400"
          >Trilog√≠as</span
        >
        <span class="text-xs font-bold text-white/20" id="stat-trilogia"
          >0 colecciones</span
        >
      </div>
      <div onclick="openCollection('Sin finalizar')" class="category-chip">
        <span
          class="text-[9px] uppercase tracking-widest font-bold text-stone-400"
          >Sin finalizar</span
        >
        <span class="text-xs font-bold text-white/20" id="stat-sinfinalizar"
          >0 colecciones</span
        >
      </div>
    </div>
  </div>
</div>

<!-- P√ÅGINAS DIN√ÅMICAS -->
<div id="listViewPage" class="full-page-view p-6">
  <header class="flex justify-between items-center mb-10 pt-4">
    <button
      id="listBackBtn"
      onclick="handleListBack()"
      class="h-10 w-10 bg-zinc-800 rounded-xl flex items-center justify-center text-white"
    >
      ‚Üê
    </button>
    <div class="text-right">
      <h2
        id="listTitle"
        class="text-xl font-bold uppercase tracking-widest truncate max-w-[200px]"
      ></h2>
      <p
        id="listSubtitle"
        class="text-[9px] text-stone-500 font-bold uppercase"
      ></p>
    </div>
  </header>
  <div id="listItemsContainer" class="library-grid"></div>
</div>

<!-- CALENDARIO VIEW -->
<div id="calendarPage" class="full-page-view p-6">
  <header class="flex justify-between items-center mb-6 pt-4">
    <button
      onclick="closeCalendar()"
      class="h-10 w-10 bg-zinc-800 rounded-xl flex items-center justify-center text-white"
    >
      ‚Üê
    </button>
    <div class="flex items-center gap-4">
      <button
        onclick="changeMonth(-1)"
        class="h-8 w-8 bg-zinc-800 rounded-lg flex items-center justify-center text-white text-xs"
      >
        ‚Üê
      </button>
      <div class="text-center min-w-[120px]">
        <h2
          id="calendarMonthLabel"
          class="text-base font-bold uppercase tracking-widest"
        ></h2>
        <p
          id="calendarYearLabel"
          class="text-[9px] text-stone-500 font-bold uppercase"
        ></p>
      </div>
      <button
        onclick="changeMonth(1)"
        class="h-8 w-8 bg-zinc-800 rounded-lg flex items-center justify-center text-white text-xs"
      >
        ‚Üí
      </button>
    </div>
  </header>
  <div
    class="bg-[#141414] rounded-[32px] overflow-hidden border border-white/5 shadow-2xl mb-8"
  >
    <div class="grid grid-cols-7 text-center py-4 bg-zinc-900/50">
      <span class="text-[8px] font-bold text-stone-600 uppercase">Lu</span>
      <span class="text-[8px] font-bold text-stone-600 uppercase">Ma</span>
      <span class="text-[8px] font-bold text-stone-600 uppercase">Mi</span>
      <span class="text-[8px] font-bold text-stone-600 uppercase">Ju</span>
      <span class="text-[8px] font-bold text-stone-600 uppercase">Vi</span>
      <span class="text-[8px] font-bold text-stone-600 uppercase">Sa</span>
      <span class="text-[8px] font-bold text-stone-600 uppercase">Do</span>
    </div>
    <div id="calendarDaysGrid" class="calendar-grid"></div>
  </div>
</div>

<!-- RESUMEN ANUAL VIEW -->
<div id="annualReportPage" class="full-page-view p-6">
  <header class="flex justify-between items-center mb-8 pt-4">
    <button
      onclick="closeAnnualReport()"
      class="h-10 w-10 bg-zinc-800 rounded-xl flex items-center justify-center text-white"
    >
      ‚Üê
    </button>
    <div class="text-right">
      <h2 class="text-xl font-bold uppercase tracking-widest">Resumen Anual</h2>
      <p
        id="reportYearLabel"
        class="text-[9px] text-stone-500 font-bold uppercase"
      ></p>
    </div>
  </header>

  <div class="annual-report-card">
    <h3
      class="text-center text-stone-500 text-[10px] uppercase font-bold tracking-[0.3em] mb-6"
    >
      Mis logros
    </h3>
    <div class="grid grid-cols-2 gap-3">
      <div class="report-stat-box">
        <p class="text-3xl font-bold" id="reportTotalBooks">0</p>
        <p
          class="text-[8px] uppercase font-bold text-stone-500 tracking-widest mt-1"
        >
          Libros
        </p>
      </div>
      <div class="report-stat-box">
        <p class="text-3xl font-bold" id="reportTotalPages">0</p>
        <p
          class="text-[8px] uppercase font-bold text-stone-500 tracking-widest mt-1"
        >
          P√°ginas
        </p>
      </div>
      <div class="report-stat-box col-span-2">
        <p class="text-lg font-bold truncate" id="reportTopAuthor">---</p>
        <p
          class="text-[8px] uppercase font-bold text-stone-500 tracking-widest mt-1"
        >
          Autor m√°s le√≠do
        </p>
      </div>
    </div>

    <div class="mt-8">
      <h4
        class="text-[9px] uppercase font-bold text-stone-500 tracking-widest mb-4"
      >
        Lecturas por mes
      </h4>
      <div id="reportChart" class="chart-container"></div>
      <div class="flex justify-between px-2">
        <span class="chart-label">E</span><span class="chart-label">F</span
        ><span class="chart-label">M</span> <span class="chart-label">A</span
        ><span class="chart-label">M</span><span class="chart-label">J</span>
        <span class="chart-label">J</span><span class="chart-label">A</span
        ><span class="chart-label">S</span> <span class="chart-label">O</span
        ><span class="chart-label">N</span><span class="chart-label">D</span>
      </div>
    </div>
  </div>

  <div class="mb-10">
    <h4
      class="text-[10px] uppercase tracking-[0.2em] font-bold text-stone-600 mb-6 px-1"
    >
      Top 3 del a√±o
    </h4>
    <div id="reportTopBooks" class="space-y-4"></div>
  </div>
</div>

<!-- DETALLE LIBRO -->
<div id="detailPage" class="full-page-view p-8">
  <header class="flex justify-between items-center mb-10 pt-4">
    <button
      onclick="closeDetail()"
      class="h-10 w-10 bg-zinc-800/80 rounded-xl flex items-center justify-center text-white"
    >
      ‚Üê
    </button>
    <button
      id="editFromDetailBtn"
      class="h-10 w-10 bg-zinc-800/80 rounded-xl flex items-center justify-center text-white"
    >
      ‚úé
    </button>
  </header>
  <div class="flex flex-col items-center text-center mb-12">
    <img
      id="detailCover"
      src=""
      class="w-48 h-72 object-cover rounded-2xl shadow-2xl mb-8 border-4 border-white/10"
    />
    <h2
      id="detailTitle"
      class="text-3xl font-bold serif italic mb-2 leading-tight"
    ></h2>
    <p
      id="detailAuthor"
      class="text-stone-400 uppercase tracking-widest text-sm font-bold"
    ></p>

    <div
      id="detailRatingDisplay"
      class="mt-4 flex gap-1 text-[#ffd700] text-lg"
    ></div>

    <div
      id="detailReleaseBadge"
      class="mt-6 bg-sky-900/30 text-sky-400 px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest border border-sky-400/20 hidden"
    >
      Lanzamiento: <span id="detailReleaseDate"></span>
    </div>
  </div>
  <div id="detailStatsGrid" class="grid grid-cols-2 gap-3 mb-8"></div>
  <div id="detailStartReadingContainer" class="hidden">
    <button id="detailStartReadingBtn" class="start-reading-btn">
      ¬°Empieza a leer!
    </button>
  </div>
</div>

<!-- TIMER PAGE -->
<div
  id="timerPage"
  class="full-page-view p-6 bg-black flex flex-col items-center justify-center overflow-hidden"
>
  <header
    class="fixed top-0 left-0 right-0 p-6 flex justify-between items-center z-10"
  >
    <button
      onclick="closeTimer()"
      class="h-10 w-10 bg-zinc-800/50 rounded-xl flex items-center justify-center text-white"
    >
      ‚úï
    </button>
    <button
      onclick="stopTimerAndRegister()"
      class="bg-[#3e6a8a] w-10 h-10 flex items-center justify-center rounded-full"
    >
      ‚úì
    </button>
  </header>
  <div class="flex flex-col items-center">
    <div id="timerDisplay" class="timer-display-big">00:00:00</div>
    <p
      class="text-stone-500 text-xs uppercase tracking-widest font-bold mt-2 mb-12"
    >
      Tiempo de lectura
    </p>
    <button
      onclick="toggleTimer()"
      id="timerCtrlBtn"
      class="timer-play-btn shadow-2xl"
    >
      <span id="timerBtnIcon" class="text-white text-3xl">‚è∏</span>
    </button>
  </div>
  <div class="timer-mini-card">
    <img id="timerBookCover" class="w-10 h-14 object-cover rounded-lg" />
    <div>
      <h4
        id="timerBookTitle"
        class="text-[10px] font-bold leading-tight truncate"
      ></h4>
      <p
        id="timerBookAuthor"
        class="text-[8px] text-stone-500 uppercase font-bold tracking-widest truncate"
      ></p>
    </div>
  </div>
</div>

<!-- MODAL META DIARIA -->
<div
  id="goalModal"
  class="fixed inset-0 bg-black/90 z-[300] hidden flex items-center justify-center p-6"
>
  <div
    class="bg-[#181818] w-full max-w-xs rounded-[32px] p-8 text-center border border-white/5"
  >
    <h3 class="text-xl font-bold mb-1">Meta Diaria</h3>
    <p
      class="text-[10px] text-stone-500 uppercase font-bold tracking-widest mb-6"
    >
      Minutos de lectura
    </p>
    <input
      type="number"
      id="goalInput"
      class="w-full bg-black rounded-2xl p-6 text-4xl font-bold text-center text-amber-500 mb-6 outline-none border border-white/5"
    />
    <button
      onclick="saveGoal()"
      class="w-full bg-amber-600 py-4 rounded-2xl font-bold"
    >
      Guardar
    </button>
    <button
      onclick="closeGoalModal()"
      class="w-full mt-4 text-stone-600 text-[10px] uppercase font-bold"
    >
      Cerrar
    </button>
  </div>
</div>

<!-- MODAL META ANUAL -->
<div
  id="annualGoalModal"
  class="fixed inset-0 bg-black/90 z-[300] hidden flex items-center justify-center p-6"
>
  <div
    class="bg-[#181818] w-full max-w-xs rounded-[32px] p-8 text-center border border-white/5"
  >
    <h3 class="text-xl font-bold mb-1">Meta Anual</h3>
    <p
      class="text-[10px] text-stone-500 uppercase font-bold tracking-widest mb-6"
    >
      Libros este a√±o
    </p>
    <input
      type="number"
      id="annualGoalInput"
      class="w-full bg-black rounded-2xl p-6 text-4xl font-bold text-center text-emerald-500 mb-6 outline-none border border-white/5"
    />
    <button
      onclick="saveAnnualGoal()"
      class="w-full bg-emerald-600 py-4 rounded-2xl font-bold"
    >
      Guardar
    </button>
    <button
      onclick="closeAnnualGoalModal()"
      class="w-full mt-4 text-stone-600 text-[10px] uppercase font-bold"
    >
      Cerrar
    </button>
  </div>
</div>

<!-- FORMULARIO LIBRO -->
<div
  id="bookModal"
  class="fixed inset-0 bg-black/95 backdrop-blur-sm z-[200] hidden flex justify-center items-end sm:items-center"
>
  <div
    class="modal-content bg-[#181818] w-full max-w-md rounded-t-[40px] sm:rounded-[40px] p-8 max-h-[92vh] overflow-y-auto"
  >
    <div class="flex justify-between items-center mb-6">
      <h3 id="modalTitle" class="text-xl font-bold">Libro</h3>
      <button onclick="closeModal()" class="text-stone-500 text-2xl">‚úï</button>
    </div>
    <div class="space-y-5">
      <div class="flex justify-center mb-2">
        <div
          onclick="document.getElementById('manualCoverInput').click()"
          class="w-24 h-32 bg-zinc-900 rounded-xl flex items-center justify-center border border-zinc-800 cursor-pointer overflow-hidden relative"
        >
          <img
            id="formPreview"
            src=""
            class="w-full h-full object-cover hidden"
          />
          <span id="previewPlaceholder" class="text-2xl opacity-30">üì∑</span>
        </div>
        <input
          type="file"
          id="manualCoverInput"
          accept="image/*"
          class="hidden"
          onchange="handleManualCoverUpload(event)"
        />
      </div>

      <div
        class="bg-zinc-900/40 border border-white/5 rounded-2xl p-4 space-y-3"
      >
        <input
          id="formTitle"
          placeholder="T√≠tulo"
          class="w-full p-3 input-style text-sm"
        />
        <input
          id="formAuthor"
          placeholder="Autor"
          class="w-full p-3 input-style text-sm"
        />
        <input
          id="formPageTotal"
          type="number"
          placeholder="Total de p√°ginas"
          class="w-full p-3 input-style text-sm"
        />
      </div>

      <div
        class="bg-zinc-900/40 border border-white/5 rounded-2xl p-4 space-y-3"
      >
        <select
          id="formSeriesType"
          onchange="toggleSeriesFields()"
          class="w-full p-3 input-style text-sm"
        >
          <option value="Autoconclusivo">Autoconclusivo</option>
          <option value="Serie">Serie</option>
          <option value="Saga">Saga</option>
          <option value="Bilog√≠a">Bilog√≠a</option>
          <option value="Trilog√≠a">Trilog√≠a</option>
          <option value="Sin finalizar">Sin finalizar</option>
        </select>
        <div id="dynamicSeriesFields" class="hidden space-y-3">
          <input
            id="formSeriesName"
            placeholder="Nombre de la serie/saga"
            class="w-full p-3 input-style text-sm"
          />
          <input
            id="formSeriesNumber"
            type="number"
            placeholder="N√∫mero del libro (Tomo)"
            class="w-full p-3 input-style text-sm"
          />
        </div>
      </div>

      <div
        class="bg-zinc-900/40 border border-white/5 rounded-2xl p-4 space-y-3"
      >
        <input
          id="formPublisher"
          placeholder="Editorial"
          class="w-full p-3 input-style text-sm mb-2"
        />
        <label class="text-[9px] text-stone-500 font-bold uppercase block mb-1"
          >Fecha de publicaci√≥n</label
        >
        <div class="grid grid-cols-3 gap-2">
          <input
            id="formDay"
            type="number"
            placeholder="DD"
            class="p-3 input-style text-xs text-center"
          />
          <input
            id="formMonth"
            type="number"
            placeholder="MM"
            class="p-3 input-style text-xs text-center"
          />
          <input
            id="formYear"
            type="number"
            placeholder="AAAA"
            class="p-3 input-style text-xs text-center"
          />
        </div>
      </div>

      <div class="grid grid-cols-2 gap-4">
        <select
          id="formStatus"
          onchange="handleStatusChange()"
          class="w-full p-3 input-style text-xs"
        >
          <option value="wishlist">Pendiente</option>
          <option value="reading">Leyendo</option>
          <option value="finished">Le√≠do</option>
        </select>
        <select id="formFormat" class="w-full p-3 input-style text-xs">
          <option value="F√≠sico">F√≠sico</option>
          <option value="Digital">Digital</option>
        </select>
      </div>

      <div
        id="manualDatesContainer"
        class="hidden bg-zinc-900/50 p-4 rounded-2xl border border-zinc-800 space-y-4"
      >
        <div id="formStartDateField">
          <label
            class="text-[9px] text-stone-500 font-bold uppercase block mb-2"
            >Fecha de inicio (DD/MM/AAAA)</label
          >
          <input
            id="formManualStartDate"
            placeholder="P.ej. 01/01/2024"
            class="w-full p-3 input-style text-sm text-center"
          />
        </div>
        <div id="formEndDateField" class="hidden">
          <label
            class="text-[9px] text-stone-500 font-bold uppercase block mb-2"
            >Fecha de fin (DD/MM/AAAA)</label
          >
          <input
            id="formManualEndDate"
            placeholder="P.ej. 15/01/2024"
            class="w-full p-3 input-style text-sm text-center"
          />
        </div>
      </div>

      <div
        id="formRatingContainer"
        class="hidden bg-zinc-900/50 p-4 rounded-2xl border border-zinc-800 text-center"
      >
        <label class="text-[9px] text-stone-500 font-bold uppercase block mb-2"
          >Valoraci√≥n</label
        >
        <div class="star-rating" id="formStarRating">
          <button onclick="setRating(1, 'form')">‚òÖ</button>
          <button onclick="setRating(2, 'form')">‚òÖ</button>
          <button onclick="setRating(3, 'form')">‚òÖ</button>
          <button onclick="setRating(4, 'form')">‚òÖ</button>
          <button onclick="setRating(5, 'form')">‚òÖ</button>
        </div>
      </div>

      <div class="bg-zinc-900/50 p-4 rounded-2xl border border-zinc-800">
        <label class="text-[9px] text-stone-500 font-bold uppercase block mb-2"
          >P√°gina Actual</label
        >
        <input
          id="formPageNow"
          type="number"
          class="w-full p-3 input-style text-center font-bold text-sky-400 text-lg"
        />
      </div>

      <button
        onclick="processBook()"
        class="w-full p-4 bg-sky-900 text-white rounded-2xl font-bold uppercase text-xs tracking-widest"
      >
        Guardar
      </button>
      <button
        id="deleteBtn"
        onclick="deleteBook()"
        class="w-full text-red-900/40 text-[10px] font-bold uppercase py-2 hidden"
      >
        Eliminar Libro
      </button>
    </div>
  </div>
</div>

<!-- MODAL PROGRESO TIMER -->
<div id="timerProgressModal" class="progress-modal-overlay">
  <div class="progress-modal-card">
    <div id="standardProgressInputs">
      <h3 class="text-xl font-bold mb-2">¬øEn qu√© p√°gina te has quedado?</h3>
      <input
        type="number"
        id="timerNewPageInput"
        class="w-full bg-zinc-900 rounded-2xl p-6 text-4xl font-bold text-center text-sky-400 mb-2"
        placeholder="0"
      />
      <p
        id="sessionStatsLabel"
        class="text-[10px] text-stone-500 font-bold uppercase tracking-widest mb-6"
      ></p>
    </div>

    <div id="ratingInputContainer" class="hidden">
      <h3 class="text-xl font-bold mb-2">¬°Lectura terminada!</h3>
      <p
        class="text-stone-500 text-[10px] font-bold uppercase tracking-widest mb-4"
      >
        Danos tu valoraci√≥n
      </p>
      <div class="star-rating" id="timerStarRating">
        <button onclick="setRating(1, 'timer')">‚òÖ</button>
        <button onclick="setRating(2, 'timer')">‚òÖ</button>
        <button onclick="setRating(3, 'timer')">‚òÖ</button>
        <button onclick="setRating(4, 'timer')">‚òÖ</button>
        <button onclick="setRating(5, 'timer')">‚òÖ</button>
      </div>
    </div>

    <button
      onclick="confirmTimerProgress()"
      class="w-full bg-[#3e6a8a] py-5 rounded-2xl font-bold uppercase text-xs tracking-[0.2em]"
    >
      Guardar Sesi√≥n
    </button>
    <button
      onclick="hideTimerProgress()"
      class="mt-6 text-stone-500 text-[9px] font-bold uppercase tracking-widest"
    >
      Descartar sesi√≥n
    </button>
  </div>
</div>
